<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tancredi Bosi - Contact</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <script src="theme-switcher.js" defer></script>
    <script src="language-switcher.js" defer></script>
    <script src="mobile-menu.js" defer></script>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo-name-container">
                <h1>Tancredi Bosi</h1>
            </div>
            <button id="mobile-menu-toggle" aria-label="Toggle navigation menu">
                <i class="fas fa-bars"></i>
            </button>
            <div class="nav-buttons">
                <a href="index.html" class="btn" data-en="Home" data-it="Home">Home</a>
                <a href="projects.html" class="btn" data-en="My Projects" data-it="I Miei Progetti">My Projects</a>
                <a href="3dprinting.html" class="btn" data-en="3D Printing" data-it="Stampa 3D">3D Printing</a>
                <a href="cv.html" class="btn" data-en="My CV" data-it="Il Mio CV">My CV</a>
                <a href="contact.html" class="btn active" data-en="Contact" data-it="Contatti">Contact</a>
                <button id="theme-toggle" title="Switch to light mode">
                    <i id="theme-icon" class="fas fa-moon"></i>
                </button>
                <button id="language-toggle" title="Switch to English" style="margin-left: 5px; padding: 5px 8px; font-size: 0.8rem;">
                    <span id="language-icon">IT</span>
                </button>
            </div>
        </div>
    </header>

    <section class="contact">
        <div class="container">
            <h2 data-en="Contact Me" data-it="Contattami">Contact Me</h2>
            
            <div class="social-links">
                <a href="https://github.com/tancredibosi" class="social-link" target="_blank" rel="noopener noreferrer">
                    <i class="fab fa-github"></i>
                    <span data-en="GitHub" data-it="GitHub">GitHub</span>
                </a>
                
                <a href="https://www.linkedin.com/in/tancredi-bosi-747004298" class="social-link" target="_blank" rel="noopener noreferrer">
                    <i class="fab fa-linkedin"></i>
                    <span data-en="LinkedIn" data-it="LinkedIn">LinkedIn</span>
                </a>
                
                <a href="https://www.instagram.com/tancredibosi" class="social-link" target="_blank" rel="noopener noreferrer">
                    <i class="fab fa-instagram"></i>
                    <span data-en="Instagram" data-it="Instagram">Instagram</span>
                </a>
                
                <a href="https://www.printables.com/@TancrediBosi_1510142" class="social-link" target="_blank" rel="noopener noreferrer">
                    <i class="fas fa-cube"></i>
                    <span data-en="Printables" data-it="Printables">Printables</span>
                </a>
                
                <div class="social-link" id="email-copy">
                    <i class="fas fa-envelope"></i>
                    <span id="email-text" data-en="Email" data-it="Email">Email</span>
                    <span id="email-tooltip" class="tooltip" data-en="Click to copy: tancredi.bosi@gmail.com" data-it="Clicca per copiare: tancredi.bosi@gmail.com">Click to copy: tancredi.bosi@gmail.com</span>
                </div>
                
                <script>
                    document.addEventListener('DOMContentLoaded', function() {
                        const emailCopy = document.getElementById('email-copy');
                        const emailText = document.getElementById('email-text');
                        
                        emailCopy.addEventListener('click', function() {
                            const email = 'tancredi.bosi@gmail.com';
                            navigator.clipboard.writeText(email).then(function() {
                                // Success feedback
                                const originalText = emailText.textContent;
                                const currentLang = document.documentElement.lang || 'en';
                                emailText.textContent = currentLang === 'it' ? 'Copiato!' : 'Copied!';
                                
                                setTimeout(function() {
                                    emailText.textContent = originalText;
                                }, 2000);
                            }).catch(function() {
                                // Error handling
                                const currentLang = document.documentElement.lang || 'en';
                                alert(currentLang === 'it' ? 'Impossibile copiare l\'email. Riprova.' : 'Failed to copy email. Please try again.');
                            });
                        });
                    });
                </script>
            </div>
            
            <div class="contact-form-container">
                <h3 data-en="Send Me a Message" data-it="Inviami un Messaggio">Send Me a Message</h3>
                <form id="contact-form" class="contact-form" action="https://formsubmit.co/tancredi.bosi@gmail.com" method="POST">
                    <!-- FormSubmit configuration -->
                    <input type="hidden" name="_subject" value="New contact form submission">
                    <input type="hidden" name="_captcha" value="false">
                    <input type="hidden" name="_next" value="https://tancredibosi.github.io/contact.html?submitted=true">
                    <input type="hidden" name="_template" value="table">
                    <div class="form-group">
                        <label for="name" data-en="Name *" data-it="Nome *">Name *</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="surname" data-en="Surname *" data-it="Cognome *">Surname *</label>
                        <input type="text" id="surname" name="surname" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email" data-en="Email *" data-it="Email *">Email *</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone" data-en="Phone Number (optional)" data-it="Numero di Telefono (opzionale)">Phone Number (optional)</label>
                        <input type="tel" id="phone" name="phone">
                    </div>
                    
                    <div class="form-group">
                        <label for="message" data-en="Message *" data-it="Messaggio *">Message *</label>
                        <textarea id="message" name="message" rows="5" required></textarea>
                    </div>
                    
                    <!-- Honeypot field to prevent spam -->
                    <input type="text" name="_honey" style="display:none">
                    
                    <button type="submit" class="submit-btn" data-en="Send Message" data-it="Invia Messaggio">Send Message</button>
                    <div id="form-status" class="form-status"></div>
                </form>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p data-en="&copy; 2025 Tancredi Bosi. All rights reserved." data-it="&copy; 2025 Tancredi Bosi. Tutti i diritti riservati.">&copy; 2025 Tancredi Bosi. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const contactForm = document.getElementById('contact-form');
            const formStatus = document.getElementById('form-status');
            
            // Check if the form was just submitted (for showing success message after redirect)
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.has('submitted')) {
                showStatus('success', document.documentElement.lang === 'it' ? 
                    'Grazie per il tuo messaggio! Ti risponderò al più presto.' : 
                    'Thank you for your message! I will get back to you soon.');
                
                // Clean up the URL
                const newUrl = window.location.pathname;
                window.history.replaceState({}, document.title, newUrl);
            }
            
            contactForm.addEventListener('submit', function(e) {
                // Client-side validation before submitting to FormSubmit
                
                // Get form data
                const name = document.getElementById('name').value.trim();
                const surname = document.getElementById('surname').value.trim();
                const email = document.getElementById('email').value.trim();
                const message = document.getElementById('message').value.trim();
                
                // Basic validation
                if (!name || !surname || !email || !message) {
                    e.preventDefault(); // Prevent form submission
                    showStatus('error', document.documentElement.lang === 'it' ? 
                        'Per favore, compila tutti i campi obbligatori.' : 
                        'Please fill in all required fields.');
                    return false;
                }
                
                // Email validation
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(email)) {
                    e.preventDefault(); // Prevent form submission
                    showStatus('error', document.documentElement.lang === 'it' ? 
                        'Per favore, inserisci un indirizzo email valido.' : 
                        'Please enter a valid email address.');
                    return false;
                }
                
                // If validation passes, show loading state
                const submitBtn = contactForm.querySelector('.submit-btn');
                submitBtn.disabled = true;
                submitBtn.textContent = document.documentElement.lang === 'it' ? 'Invio in corso...' : 'Sending...';
                
                // Let the form submit to FormSubmit service
                return true;
            });
            
            function showStatus(type, message) {
                formStatus.innerHTML = message;
                formStatus.className = `form-status ${type}`;
                formStatus.style.display = 'block';
                
                // Scroll to status message
                formStatus.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                
                // Only auto-hide error messages, not success messages
                if (type === 'error') {
                    setTimeout(() => {
                        formStatus.style.display = 'none';
                    }, 5000);
                }
            }
            
            // Update form labels when language changes
            const languageToggle = document.getElementById('language-toggle');
            if (languageToggle) {
                languageToggle.addEventListener('click', function() {
                    // The language-switcher.js will handle the actual language change
                    // We just need to make sure our form status messages are cleared
                    formStatus.style.display = 'none';
                });
            }
        });
    </script>
</body>
</html>